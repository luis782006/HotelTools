@page "/"
@layout IndexLayout
@using HotelTools.Components.Layout
@inject IJSRuntime js;
@inject IConfiguration configuration;
@inject NavigationManager nav;
@inject BrowserJS _browserJS;

<style>
    body {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background: url("img/fondo-hotel-cilene.webp") no-repeat center center;
    background-size: cover;
    }
</style>

@code {

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {        
        var cookieName = configuration["Util:CookieName"];
        if (firstRender)
        {
            var haySesion=await _browserJS.GetCookie(cookieName);
            if (!string.IsNullOrWhiteSpace(haySesion.ToString()))
            {
                nav.NavigateTo("/home", true);
            }
            else
            {
                nav.NavigateTo("/login", true);
            }
        }
    }
}
